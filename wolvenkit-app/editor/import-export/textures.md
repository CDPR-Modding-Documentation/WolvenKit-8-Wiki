# Textures

## XBM

## Exporting textures

WolvenKit is capable of exporting Cyberpunk XBM files to common formats such as TGA natively.

![Advanced texture export options](../../../.gitbook/assets/ImportExportTool\_textures\_advanced.png)

{% hint style="warning" %}
Textures exported with WolvenKit will appear upside-down. **This is not a bug!**\
Textures in Cyberpunk 2077 are upside-down. ðŸ™ƒ
{% endhint %}

### Export Options

#### XBM Export Type

Choose a common image format for exported textures. DDS or TGA is recommended because these formats can be Imported directly with WolvenKit.

#### Flip Image

Vertically invert textures for convenience

## Importing textures

WolvenKit is capable of importing custom images as Cyberpunk XBM files. The Import/Export Tool can replace an existing XBM or generate new standalone XBM.&#x20;

### Import Options

#### Texture Group

(Read Only) Compression method for XBM

#### isGamma

Sets isGamma boolean upon import. Color textures (such as diffuse) must be set as true, or they will appear blown-out or too bright in-game.

#### Use existing file

* When unchecked (default) WolvenKit creates a new standalone texture, or completely overwrites the source XBM. The XBM compression method will be defaulted (not extensively tested), and the texture size is set dynamically to match the imported texture resolution.
* When checked WolvenKit requires an existing "source" file. Typically the source file is the original XBM used to export the selected texture. The "rebuilt" texture will retain the original compression method the texture size must remain the same.

### Supported texture import formats

#### TGA

TGA is highly recommended for modding applications due to its lossless nature and support within art pipelines. By default WolvenKit will use an ultra high-quality 32bpp compression for TGA imports. When the advanced import option **Use existing file** is set true, the correct compression method is _always automatically determined_ by the source XBM. This can make TGA imports much more hassle-free when compared to DDS.

#### DDS

While DDS is the most tried-and-true format, there are a few drawbacks. When exporting DDS textures from Image Editing Software, the compression method _must match_ the original DDS/XBM or the texture will be corrupted. To verify the compression method, the DDS metadata must be analyzed with a tool such as Visual Studio. Alternatively when the **Use existing file** advanced import option is _disabled_, a new standalone texture with "default" compression is created. This method is currently experimental. The DDS format is also [lossy](https://en.wikipedia.org/wiki/Lossy\_compression), and generally cumbersome to work with in most art applications.

## MLMASK

Exporting and importing new multilayer mask files is possible with WolvenKit.

{% hint style="info" %}
[Learn more about the functionality of mlmask files on the REDengine 4 Wiki](https://wiki.redmodding.org/redengine4-research/assets/shaders/multilayer.mt/mlmask)
{% endhint %}

### Exporting MLMASK files

Mask files can be exported with the Import/Export tool in a similar fashion to texture files. [**Read about exporting textures above**](textures.md#exporting-textures). Additionally WolvenKit will automatically create a custom masklist  file which can be used for importing modified mlmask files.

### Importing MLMASK files

Use the **import** view of the Import/Export tool to select any masklist file within the _raw directory_ of the Project Explorer. Masklist files are automatically generated by the mlmask export process. Masklist files can be opened and modified with any text-editing program. WolvenKit will accept absolute or relative texture paths within the masklist file.

{% hint style="warning" %}
* it may be necessary to remove the link to layer 0 within the masklist file for a successful import
* Only PNG and DDS images are supported for mlmask import
{% endhint %}
